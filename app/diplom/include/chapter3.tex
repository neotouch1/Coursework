\section{Руководство пользователя}

\subsection{Назначение программы}

Разработанная программа реализует алгоритм сжатия изображений, повторяющий основные этапы стандарта JPEG. 
В отличие от оригинального алгоритма, на этапе энтропийного кодирования используется метод RLE (Run-Length Encoding) 
вместо кодирования по Хаффману. 
Это позволяет упростить реализацию, сохранив при этом все основные свойства алгоритма JPEG.

Программа предназначена для демонстрации полного цикла кодирования и декодирования изображения:

\begin{itemize}
    \item переход от $\textbf{RGB}$ к $\textbf{YCbCr}$
    \item разбиение на блоки $8 \times 8$
    \item дискретное косинус-преобразование (DCT)
    \item квантование
    \item последовательное сканирование (зигзаг)
    \item кодирование RLE
    \item обратные преобразования (IDCT и т. д.)
    \item восстановление RGB-изображения

\end{itemize}



\clearpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Интерфейс программы}

На рисунке ~\ref{fig:interface} представлено главное окно приложения.

\begin{figure}[h!]
    \centering
    \includegraphics[width=0.7\textwidth]{/home/evgen/Coursework/app/diplom/images/interface.png}
    \caption{Главное окно приложения.}
    \label{fig:interface}
\end{figure}



\subsubsection{Основные элементы интерфейса:}

\begin{itemize}
    \item \textbf{Открыть изображение}

    Позволяет выбрать изображение в формате PNG или JPEG для обработки.
    
    \begin{figure}[h!]
        \centering
        \includegraphics[width=0.5\textwidth]{/home/evgen/Coursework/app/diplom/images/win_choice.png}
        \caption{Окно выбора изображений.}
        \label{fig:win_choice}
    \end{figure}



    \item \textbf{Выбрать реализацию DCT}

    В графическом интерфейсе приложения предусмотрена возможность выбора реализации дискретного косинусного преобразования (DCT). 
    Пользователю предлагаются два варианта:

    Собственная реализация DCT, разработанная вручную в рамках дипломного проекта;
    
    Готовая реализация из библиотеки SciPy (scipy.fftpack.dct), используемая в качестве эталонной и производительной альтернативы.
    
    Это позволяет провести наглядное сравнение корректности и эффективности обеих реализаций, а также удостовериться в соответствии собственной реализации общепринятым стандартам.

    \begin{figure}[h!]
        \centering
        \includegraphics[width=0.8\textwidth]{/home/evgen/Coursework/app/diplom/images/choice_dct.png}
        \caption{Выбрать реализацию DCT.}
        \label{fig:choice_dct}
    \end{figure}



    \item \textbf{Задать уровень сжатия}
    
    Предусмотрена возможность установки уровня сжатия, который напрямую влияет на коэффициенты квантования. 
    Более высокий уровень сжатия приводит к агрессивному округлению высокочастотных коэффициентов, 
    что уменьшает объём выходного файла, но может снизить качество восстановленного изображения. 
    Напротив, меньшие значения сохраняют больше информации, обеспечивая лучшее качество при увеличенном размере файла.

    Это позволяет пользователю находить баланс между качеством изображения и степенью компрессии в зависимости от задач.
    \begin{figure}[h!]
        \centering
        \includegraphics[width=0.9\textwidth]{/home/evgen/Coursework/app/diplom/images/lvl_compres.png}
        \caption{Выбрать уровень сжатия.}
        \label{fig:lvl_compres}
    \end{figure}

    \FloatBarrier

    \item \textbf{Обработать изображение}
    
    После выбора параметров пользователь может запустить процесс обработки, 
    нажав на кнопку \textbf{«Обработать изображение»}. 
    Программа выполняет полный цикл сжатия и восстановления изображения, повторяя основные этапы алгоритма JPEG.

    Сначала изображение преобразуется из цветового пространства RGB в YCbCr.
    Затем изображение разбивается на блоки.
    К каждому блоку применяется дискретное косинусное преобразование (DCT), 
    переводя данные из пространственной области в частотную. 
    Полученные коэффициенты проходят этап квантования, 
    при котором незначительные высокочастотные компоненты подавляются — это и есть основное сжатие с потерями.

    После квантования коэффициенты сканируются по зигзагообразной траектории, что группирует нули, 
    появившиеся в результате округлений. 
    Затем выполняется кодирование методом RLE.

    На финальном этапе происходит декодирование, и вывод получившегося изображения в в окне приложения.

    \begin{figure}[h!]
        \centering
        \includegraphics[width=0.9\textwidth]{/home/evgen/Coursework/app/diplom/images/continue.png}
        \caption{Дополнительные элементы.}
        \label{fig:continue}
    \end{figure}


    После завершения обработки становятся доступными дополнительные элементы интерфейса, 
    позволяющие более подробно проанализировать результат.

    \FloatBarrier

    \item \textbf{Сохранить изображение}
    
    Позволяет сохранить на диске восстановленное после сжатия изображение в формате JPEG.

    \begin{figure}[h!]
        \centering
        \includegraphics[width=0.9\textwidth]{/home/evgen/Coursework/app/diplom/images/save_img.png}
        \caption{Сохранить изображение.}
        \label{fig:save_img}
    \end{figure}


    \FloatBarrier
    \item \textbf{Показать карту энергии DCT-коэффициентов}
    
    Данный элемент визуализирует вклад различных частотных компонент в изображение до этапа квантования. 
    Это позволяет понять, какие частоты наиболее значимы в передаче визуальной информации


    \begin{figure}[h!]
        \centering
        \includegraphics[width=0.9\textwidth]{/home/evgen/Coursework/app/diplom/images/map_energy.png}
        \caption{Карта энергии DCT-коэффициентов.}
        \label{fig:map_energy}
    \end{figure}


    \FloatBarrier

    \item \textbf{Показать карту энергии квантованных блоков} 

    Отображает распределение энергии после квантования. 
    Данная визуализация помогает оценить потери, вызванные округлением коэффициентов.

    \begin{figure}[h!]
        \centering
        \includegraphics[width=0.9\textwidth]{/home/evgen/Coursework/app/diplom/images/map_quant.png}
        \caption{Карта энергии квантованных блоков.}
        \label{fig:map_quant}
    \end{figure}

\end{itemize}

\FloatBarrier
В нижней части окна приложения отображаются числовые параметры, 
предоставляющие пользователю информацию о производительности и эффективности алгоритма сжатия:
\begin{itemize}
    \item \textbf{Размер изображений} — отображает объём изображения до и после обработки, в килобайтах. 
    Этот позволяет пользователю сравнить исходный размер файла с результатом сжатия и оценить, 
    насколько сильно уменьшился объём данных.

    \item \textbf{Время обработки} — показывает общее время, затраченное на выполнение всех этапов алгоритма, 
    включая преобразование цветового пространства, разбиение на блоки, дискретное косинусное преобразование, 
    квантование, кодирование с помощью RLE и последующее восстановление изображения. 
    Этот показатель даёт представление о производительности реализации и позволяет сравнивать 
    скорость работы разных вариантов DCT или уровней сжатия.
\end{itemize}


\begin{figure}[h!]
    \centering
    \includegraphics[width=0.9\textwidth]{/home/evgen/Coursework/app/diplom/images/time_size.png}
    \caption{Числовые параметры.}
    \label{fig:time_size}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
как и на чем написана программа можно накатить еще парочку страниц



\clearpage



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
На рисунке представлена зависимость метрики SSIM (Structural Similarity Index) от уровня квантования. 
SSIM измеряет степень структурного сходства между оригинальным и восстановленным изображением 
(значения ближе к 1 означают высокое качество).

График показывает, что при увеличении уровня квантования 
(то есть более агрессивном удалении высокочастотной информации) метрика SSIM уменьшается. 
Это соответствует ожиданиям: чем сильнее сжатие, тем больше потерь информации и ниже визуальное качество. 
На малых уровнях квантования (например, 1–3) качество остаётся почти неизменным, но при уровнях выше 5 наблюдается резкое ухудшение. 
Это даёт возможность выбрать компромисс между степенью сжатия и визуальным качеством.


%%%
На рисунке показано, как изменяется метрика PSNR (Peak Signal-to-Noise Ratio) в зависимости от размера блока, 
используемого для дискретного косинусного преобразования.

PSNR — это классическая метрика оценки искажения сигнала (в данном случае, изображения); 
более высокие значения указывают на лучшее качество восстановления. При небольшом размере блока 
(8×8) значения PSNR максимальны, что объясняется более точной локальной аппроксимацией содержимого. 
С увеличением размера блока (например, 32×32) точность снижается из-за усреднения на более крупных 
участках изображения, что приводит к потере деталей и снижению PSNR.

Таким образом, блоки 8×8 являются оптимальными с точки зрения компромисса между сжатием и качеством, 
что подтверждает выбор JPEG-стандарта.

%%%%
График демонстрирует, как изменяется метрика SSIM в зависимости от размера блока. 
Аналогично PSNR, максимальное качество достигается при использовании стандартного размера 8×8. 
По мере увеличения блока падает точность локального анализа изображения, 
что особенно критично для SSIM — метрики, учитывающей локальные структуры и контраст.

Таким образом, большие блоки ухудшают восприятие изображения, особенно в областях с высокой детализацией. 
Это подчёркивает важность выбора разумного размера блока для сохранения визуального качества при сжатии.


%%%%%
На рисунке представлена зависимость времени обработки изображения от размера блока. 
Время измерялось в миллисекундах для полного цикла сжатия и восстановления изображения фиксированного 
размера (например, 512×512 пикселей).

График показывает, что с увеличением размера блока общее количество блоков уменьшается, 
что снижает число вычислений (например, DCT и RLE выполняются реже), и, как следствие, 
сокращается общее время обработки. 
Однако при слишком больших блоках может наблюдаться незначительный рост времени из-за увеличения объёма 
обработки каждого отдельного блока и возможного падения эффективности кэширования.

Этот график полезен для анализа производительности и помогает выбрать подходящий размер блока в 
зависимости от требований к скорости и качеству.